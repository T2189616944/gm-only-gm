# 政务链更新日志

[TOC]

## 20200602 添加资源消耗评估

### 需求描述

1. 用户账户调用合约, 累计资源消耗
2. 合约运行累计资源消耗
3. 打包节点累计块内所有交易的资源消耗

### 实现细节

1. 资源消耗累计在 `/core/state/state_object.go` 中的 `Account.Balance` 字段. 评估标准为 虚拟机的 `gas` 消耗量. 逻辑从 gas 消耗变成累计资源消耗.
2. 保留 块的GasLimit , 用于限制块包含的交易数量
3. 保留 交易的GasLimit , 用于限制交易的错误运行
4. 删除 GasPrice, 交易排序将会按照nonce排序



